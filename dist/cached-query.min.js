(()=>{"use strict";var n={d:(o,e)=>{for(var r in e)n.o(e,r)&&!n.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})},o:(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r:n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},o={};n.r(o),n.d(o,{clearQueries:()=>r,cquery_cache:()=>e,invalidateQuery:()=>i,mockQuery:()=>t,preparedQuery:()=>a,replaceQuery:()=>l,useQuery:()=>s});const e={};function r(){for(var n in e)delete e[n]}function a(n,o,r={},a={}){if(n in e){let r=e[n];return void(r.url!==o&&console.warn(`ignore the url: a query already exists with different url ${r.url}, you try to prepare for ${o}`))}let i={callbacks:[],data:null,error:null,key:n,isLoading:!1,response:null,mock:!1,url:o,request_options:r,invalidationStop:null,invalidationInterval:null,invalidationCounter:0,postponeInvalidation:a.postponeInvalidation||!0};"mock"in a&&f(i,a),"interval"in a&&d(i,a.interval),e[n]=i}function i(n){u(n);const o=e[n];null===o.data&&!0===o.isLoading||c(o,!0)}function t(n,o,r=!1,a=null,i=null){u(n);const t=e[n];t.mock=!0,t.data=o,t.isLoading=r,t.error=a,t.response=i}function l(n,o,r={},a={}){u(n);let i=e[n];i.url=o,i.request_options=r,"mock"in a?f(i,a):function(n){n.mock=!1,n.data=null,n.isLoading=!1,n.error=null,n.response=null}(i),"interval"in a?d(i,a.interval):p(i)}function s(n,o){u(n);const r=e[n];null===r.data&&!1===r.isLoading&&null===r.error?(c(r),r.callbacks.push(o),o(r.data,r.isLoading,r.error,r.response)):(r.callbacks.push(o),o(r.data,r.isLoading,r.error,r.response))}function u(n){if(!(n in e))throw`The query '${n}' does not exists - prepared queries : [${Object.keys(e)}]`}function c(n,o=!1){if(!0!==n.mock){n.data=null,n.isLoading=!0,n.response=null,n.error=null,!0===o&&(n.invalidationCounter+=1);for(const o in n.callbacks)n.callbacks[o](n.data,n.isLoading,n.error,n.response);fetch(n.url,n.request_options).then((o=>(n.response=o,o.json()))).then((e=>{if(!0===o&&n.invalidationCounter>0&&(n.invalidationCounter-=1),0===n.invalidationCounter||!1===n.postponeInvalidation){n.isLoading=!1,n.data=e,n.error=null;for(const o in n.callbacks)n.callbacks[o](n.data,n.isLoading,n.error,n.response)}})).catch((e=>{!0===o&&n.invalidationCounter>0&&(n.invalidationCounter-=1),n.isLoading=!1,n.data=null,n.error=e;for(const o in n.callbacks)n.callbacks[o](n.data,n.isLoading,n.error,n.response)}))}else for(const o in n.callbacks)n.callbacks[o](n.data,n.isLoading,n.error,n.response)}function d(n,o){p(n),n.invalidationStop=setTimeout((()=>d(n,o)),1e3*o),c(n)}function p(n){n.invalidationStop&&clearTimeout(n.invalidationStop)}function f(n,o){n.mock=!0,n.data=o.mock.data,n.isLoading=o.mock.isLoading,n.error=o.mock.error,n.response=o.mock.response}var v=window;for(var k in o)v[k]=o[k];o.__esModule&&Object.defineProperty(v,"__esModule",{value:!0})})();