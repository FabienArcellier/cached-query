(()=>{"use strict";var o={d:(e,n)=>{for(var r in n)o.o(n,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};o.r(e),o.d(e,{clearQueries:()=>r,cquery_cache:()=>n,invalidateQuery:()=>a,mockQuery:()=>t,preparedQuery:()=>i,replaceQuery:()=>s,useQuery:()=>l});const n={};function r(){for(var o in n)delete n[o]}function i(o,e,r={},i={}){if(o in n){let r=n[o];return void(r.url!==e&&console.warn(`ignore the url: a query already exists with different url ${r.url}, you try to prepare for ${e}`))}let a={callbacks:[],data:null,error:null,key:o,isLoading:!1,response:null,mock:!1,url:e,request_options:r,invalidationStop:null,invalidationInterval:null,invalidationCounter:0,postponeInvalidation:i.postponeInvalidation||!0};"mock"in i&&v(a,i),"interval"in i&&u(a,i.interval),n[o]=a}function a(o){d(o);const e=n[o];e.invalidationCounter+=1,void 0===e.data&&!1===e.isLoading||c(e,!0)}function t(o,e,r=!1,i,a){d(o);const t=n[o];t.mock=!0,t.data=e,t.isLoading=r,t.error=i,t.response=a}function s(o,e,r={},i={}){d(o);let a=n[o];a.url=e,a.request_options=r,"mock"in i?v(a,i):function(o){o.mock=!1,o.data=null,o.isLoading=!1,o.error=null,o.response=null}(a),"interval"in i?u(a,i.interval):p(a)}function l(o,e){d(o);const r=n[o];void 0===r.data&&!1===r.isLoading&&void 0===r.error?(c(r),r.callbacks.push(e),e(r.data,r.isLoading,r.error,r.response)):(r.callbacks.push(e),e(r.data,r.isLoading,r.error,r.response))}function d(o){if(!(o in n))throw`The query '${o}' does not exists - prepared queries : [${Object.keys(n)}]`}function c(o,e=!1){if(!0!==o.mock){o.data=void 0,o.isLoading=!0,o.response=void 0,o.error=void 0;for(const e in o.callbacks)o.callbacks[e](o.data,o.isLoading,o.error,o.response);fetch(o.url,o.request_options).then((e=>(o.response=e,e.json()))).then((n=>{if(!0===e&&o.invalidationCounter>0&&(o.invalidationCounter-=1),0===o.invalidationCounter||!1===o.postponeInvalidation){o.isLoading=!1,o.data=n,o.error=void 0;for(const e in o.callbacks)o.callbacks[e](o.data,o.isLoading,o.error,o.response)}})).catch((e=>{o.isLoading=!1,o.data=void 0,o.error=e;for(const e in o.callbacks)o.callbacks[e](o.data,o.isLoading,o.error,o.response)}))}else for(const e in o.callbacks)o.callbacks[e](o.data,o.isLoading,o.error,o.response)}function u(o,e){p(o),o.invalidationStop=setTimeout((()=>u(o,e)),1e3*e),c(o)}function p(o){o.invalidationStop&&clearTimeout(o.invalidationStop)}function v(o,e){o.mock=!0,o.data=e.mock.data,o.isLoading=e.mock.isLoading,o.error=e.mock.error,o.response=e.mock.response}var f=window;for(var k in e)f[k]=e[k];e.__esModule&&Object.defineProperty(f,"__esModule",{value:!0})})();