(()=>{"use strict";var n={d:(e,o)=>{for(var i in o)n.o(o,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r:n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},e={};n.r(e),n.d(e,{clearQueries:()=>i,cquery_cache:()=>o,fetchJsonEngine:()=>l,invalidateQuery:()=>t,invokeSubscriptions:()=>a,mockEngine:()=>s,mockQuery:()=>u,preparedQuery:()=>r,replaceQuery:()=>c,resetContext:()=>d,useQuery:()=>p});const o={};function i(){for(var n in o)delete o[n]}function r(n,e,i={},r={}){if(n in o){let i=o[n];return void(i.url!==e&&console.warn(`ignore the url: a query already exists with different url ${i.url}, you try to prepare for ${e}`))}let t={callbacks:[],data:null,error:null,key:n,isLoading:!1,response:null,mock:!1,url:e,request_options:i,invalidationStop:null,invalidationInterval:null,invalidationCounter:0,postponeInvalidation:r.postponeInvalidation||!0,engine:r.engine||f};"mock"in r&&m(t,r),"interval"in r&&k(t,r.interval),o[n]=t}function t(n){v(n);const e=o[n];null===e.data&&!0===e.isLoading||g(e,!0)}function a(n,e,o,i){if(n.invalidationCounter-=1,0===n.invalidationCounter||!1===n.postponeInvalidation){n.isLoading=!1,n.data=e,n.error=o,n.response=i;for(const e in n.callbacks)n.callbacks[e](n.data,n.isLoading,n.error,n.response)}}function l(n){let e=null;fetch(n.url,n.request_options).then((n=>(e=n,n.json()))).then((o=>{a(n,o,null,e)})).catch((o=>{a(n,null,o,e)}))}function s(n){a(n,n.data,n.error,n.response)}function u(n,e,i=!1,r=null,t=null){v(n);const a=o[n];a.mock=!0,a.data=e,a.isLoading=i,a.error=r,a.response=t}function c(n,e,i={},r={}){v(n);let t=o[n];t.url=e,t.request_options=i,t.engine=r.engine||f,"mock"in r?m(t,r):function(n){n.mock=!1,n.data=null,n.isLoading=!1,n.error=null,n.response=null}(t),"interval"in r?k(t,r.interval):y(t)}function d(){f=l,i()}function p(n,e){v(n);const i=o[n];null===i.data&&!1===i.isLoading&&null===i.error?(i.callbacks.push(e),g(i)):(i.callbacks.push(e),e(i.data,i.isLoading,i.error,i.response))}let f=l;function v(n){if(!(n in o))throw`The query '${n}' does not exists - prepared queries : [${Object.keys(o)}]`}function g(n,e=!1){if(n.invalidationCounter+=1,!0!==n.mock){n.data=null,n.isLoading=!0,n.response=null,n.error=null;for(const e in n.callbacks)n.callbacks[e](n.data,n.isLoading,n.error,n.response)}n.engine(n)}function k(n,e){y(n),n.invalidationStop=setTimeout((()=>k(n,e)),1e3*e),g(n)}function y(n){n.invalidationStop&&clearTimeout(n.invalidationStop)}function m(n,e){n.engine=s,n.mock=!0,n.data=e.mock.data,n.isLoading=e.mock.isLoading,n.error=e.mock.error,n.response=e.mock.response}var b=window;for(var h in e)b[h]=e[h];e.__esModule&&Object.defineProperty(b,"__esModule",{value:!0})})();