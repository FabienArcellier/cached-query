(()=>{"use strict";var e={d:(o,r)=>{for(var a in r)e.o(r,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:r[a]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{cquery_cache:()=>r,invalidateQuery:()=>n,mockQuery:()=>d,preparedQuery:()=>a,replaceQuery:()=>i,useQuery:()=>t});const r={};function a(e,o,a={},i={}){if(e in r){let a=r[e];return void(a.url!==o&&console.warn(`ignore the url: a query already exists with different url ${a.url}, you try to prepare for ${o}`))}let t={callbacks:[],data:void 0,error:void 0,key:e,isLoading:!1,mock:!1,url:o,request_options:a,invalidationStop:void 0,invalidationInterval:void 0};"interval"in i&&l(t,i.interval),r[e]=t}function i(e,o,a={}){s(e);let i=r[e];i.url=o,i.request_options=a}function t(e,o){s(e);const a=r[e];void 0===a.data&&!1===a.isLoading&&void 0===a.error?(c(a),a.callbacks.push(o),o(a.data,a.isLoading,a.error)):(a.callbacks.push(o),o(a.data,a.isLoading,a.error))}function n(e,o){s(e);const a=r[e];void 0===a.data&&!1===a.isLoading||!1===a.isLoading&&c(a)}function d(e,o,a=!1,i){s(e);const t=r[e];t.mock=!0,t.data=o,t.isLoading=a,t.error=i}function s(e){if(!(e in r))throw`The query '${e}' does not exists - prepared queries : [${Object.keys(r)}]`}function c(e){if(!0!==e.mock)e.data=void 0,e.isLoading=!0,fetch(e.url,e.request_options).then((e=>e.json())).then((o=>{e.isLoading=!1,e.data=o,e.error=void 0;for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error)})).catch((o=>{e.isLoading=!1,e.data=void 0,e.error=o;for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error)}));else for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error)}function l(e,o){e.invalidationStop=setTimeout((()=>l(e,o)),1e3*o),c(e)}var u=window;for(var f in o)u[f]=o[f];o.__esModule&&Object.defineProperty(u,"__esModule",{value:!0})})();