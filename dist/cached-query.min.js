(()=>{"use strict";var e={d:(o,r)=>{for(var a in r)e.o(r,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:r[a]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{cquery_cache:()=>r,invalidateQuery:()=>t,mockQuery:()=>s,preparedQuery:()=>a,replaceQuery:()=>i,useQuery:()=>n});const r={};function a(e,o,a={},i={}){if(e in r){let a=r[e];return void(a.url!==o&&console.warn(`ignore the url: a query already exists with different url ${a.url}, you try to prepare for ${o}`))}let n={callbacks:[],data:void 0,error:void 0,key:e,isLoading:!1,response:void 0,mock:!1,url:o,request_options:a,invalidationStop:void 0,invalidationInterval:void 0};"mock"in i&&(n.mock=!0,n.data=i.mock.data,n.isLoading=i.mock.isLoading,n.error=i.mock.error,n.response=i.mock.response),"interval"in i&&l(n,i.interval),r[e]=n}function i(e,o,a={}){d(e);let i=r[e];i.url=o,i.request_options=a}function n(e,o){d(e);const a=r[e];void 0===a.data&&!1===a.isLoading&&void 0===a.error?(c(a),a.callbacks.push(o),o(a.data,a.isLoading,a.error,a.response)):(a.callbacks.push(o),o(a.data,a.isLoading,a.error,a.response))}function t(e,o){d(e);const a=r[e];void 0===a.data&&!1===a.isLoading||!1===a.isLoading&&c(a)}function s(e,o,a=!1,i,n){d(e);const t=r[e];t.mock=!0,t.data=o,t.isLoading=a,t.error=i,t.response=n}function d(e){if(!(e in r))throw`The query '${e}' does not exists - prepared queries : [${Object.keys(r)}]`}function c(e){if(!0!==e.mock)e.data=void 0,e.isLoading=!0,fetch(e.url,e.request_options).then((o=>(e.response=o,o.json()))).then((o=>{e.isLoading=!1,e.data=o,e.error=void 0;for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error,e.response)})).catch((o=>{e.isLoading=!1,e.data=void 0,e.error=o;for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error,e.response)}));else for(const o in e.callbacks)e.callbacks[o](e.data,e.isLoading,e.error,e.response)}function l(e,o){e.invalidationStop=setTimeout((()=>l(e,o)),1e3*o),c(e)}var u=window;for(var p in o)u[p]=o[p];o.__esModule&&Object.defineProperty(u,"__esModule",{value:!0})})();